(self.webpackChunkplayground=self.webpackChunkplayground||[]).push([[179],{"./generated-stories-entry.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$")],module,!1)},"./src/stories/Calculator.stories.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MultiResults:function(){return MultiResults},Simple:function(){return Simple},default:function(){return Calculator_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");var hooks_useCalculator=function useCalculator(){return(0,react.useContext)(CalculatorContext)},toArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toArray.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),Operators={ADDITION:"+",SUBTRACTION:"-",MULTIPLICATION:"*",DIVISION:"/",EQUALS:"="};function _calculate(a,b,operator){var parsedA=Number(a),parsedB=Number(b);switch(operator){case Operators.ADDITION:return parsedA+parsedB;case Operators.SUBTRACTION:return parsedA-parsedB;case Operators.MULTIPLICATION:return parsedA*parsedB;case Operators.DIVISION:return parsedA/parsedB;default:throw new Error("Unknown operator ".concat(operator))}}function reducer(state,action){if("SET_OPERAND"===action.type){var operand=action.operand,value=action.value;return state.map((function(row){return row.name===operand?(0,objectSpread2.Z)((0,objectSpread2.Z)({},row),{},{value:value}):row}))}return state}var hooks_useCalculatorState=function useCalculatorState(){var initialRows=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],_useReducer=(0,react.useReducer)(reducer,initialRows),_useReducer2=(0,slicedToArray.Z)(_useReducer,2),rows=_useReducer2[0],dispatch=_useReducer2[1];function getRowsBeforeResult(resultName){var resultIndex=rows.findIndex((function(row){return row.name===resultName}));if(-1===resultIndex)throw new Error("No result found for operand ".concat(resultName));return rows.slice(0,resultIndex)}return{rows:rows,setOperand:function setOperand(operand,value){return dispatch({type:"SET_OPERAND",operand:operand,value:value})},calculate:function calculate(upToOperand){var _getRowsBeforeResult=getRowsBeforeResult(upToOperand),_getRowsBeforeResult2=(0,toArray.Z)(_getRowsBeforeResult),firstRow=_getRowsBeforeResult2[0];return _getRowsBeforeResult2.slice(1).reduce((function(result,row){return row.operator===Operators.EQUALS?result:_calculate(result,row.value,row.operator)}),firstRow.value)},getRowsBeforeResult:getRowsBeforeResult}},objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");var row_getLabel=function getLabel(label,value){return"function"==typeof label?label(value):label},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function Result(_ref){var label=_ref.label,name=_ref.name,_useCalculator=hooks_useCalculator(),calculate=_useCalculator.calculate,operands=(0,_useCalculator.getRowsBeforeResult)(name).map((function(row){return row.name})),result=calculate(name);return(0,jsx_runtime.jsxs)("div",{className:"result",children:[(0,jsx_runtime.jsx)("label",{htmlFor:name,children:row_getLabel(label,result)}),(0,jsx_runtime.jsx)("output",{name:name,htmlFor:operands.join(" "),children:result})]})}Result.__docgenInfo={description:"",methods:[],displayName:"Result"};var row_Result=Result;function Operand(_ref){var label=_ref.label,name=_ref.name,value=_ref.value,setOperand=hooks_useCalculator().setOperand;return(0,jsx_runtime.jsxs)("div",{className:"operand",children:[(0,jsx_runtime.jsx)("label",{htmlFor:name,children:row_getLabel(label,value)}),(0,jsx_runtime.jsx)("input",{name:name,type:"number",inputMode:"decimal",value:value,onChange:function handleChange(event){setOperand(name,event.target.value)}})]})}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/calculator/row/Result.jsx"]={name:"Result",docgenInfo:Result.__docgenInfo,path:"src/calculator/row/Result.jsx"}),Operand.__docgenInfo={description:"",methods:[],displayName:"Operand"};var row_Operand=Operand;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/calculator/row/Operand.jsx"]={name:"Operand",docgenInfo:Operand.__docgenInfo,path:"src/calculator/row/Operand.jsx"});var _excluded=["operator"];function Operator(_ref){var operator=_ref.operator,otherProps=(0,objectWithoutProperties.Z)(_ref,_excluded);return(0,jsx_runtime.jsx)("span",(0,objectSpread2.Z)((0,objectSpread2.Z)({},otherProps),{},{children:getOperator(operator)}))}function getOperator(operator){switch(operator){case"+":return"+";case"-":return"-";case"*":return"ร";case"/":return"รท";case"=":return"=";default:return operator}}Operator.__docgenInfo={description:"",methods:[],displayName:"Operator"};var _templateObject,row_Operator=Operator;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/calculator/row/Operator.jsx"]={name:"Operator",docgenInfo:Operator.__docgenInfo,path:"src/calculator/row/Operator.jsx"});var Row_excluded=["operator"];function Row(_ref){var operator=_ref.operator,rowProps=(0,objectWithoutProperties.Z)(_ref,Row_excluded);return(0,jsx_runtime.jsxs)(Container,{children:[operator===Operators.EQUALS&&(0,jsx_runtime.jsx)("hr",{}),(0,jsx_runtime.jsxs)("div",{className:"calculator-row",children:[(0,jsx_runtime.jsx)(row_Operator,{operator:operator,className:"operator"}),operator===Operators.EQUALS?(0,jsx_runtime.jsx)(row_Result,(0,objectSpread2.Z)({},rowProps)):(0,jsx_runtime.jsx)(row_Operand,(0,objectSpread2.Z)({},rowProps))]})]})}var Container=styled_components_browser_esm.ZP.div(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n    > hr {\n        display: block;\n\n        width: 100%;\n        height: 1px;\n\n        border: 0;\n\n        margin: 0.1rem 0 1rem;\n\n        background-color: black;\n    }\n\n    > .calculator-row {\n        display: flex;\n        flex-direction: row;\n        flex-wrap: wrap;\n\n        gap: 1rem;\n\n        /* For the operand */\n        position: relative;\n\n        > .operator {\n            position: absolute;\n            left: 0;\n\n            font-size: 1rem;\n\n            /* accounting for font-size */\n            top: calc(50% - 1rem);\n\n            color: black;\n        }\n\n        > .operand, > .result {\n            display: flex;\n            flex-basis: 100%;\n            flex-wrap: wrap;\n            column-gap: 1rem;\n\n            margin-left: 2rem; /* Space for operator */\n            margin-bottom: 1rem;\n\n            > label {\n                flex: 2;\n                color: black;\n                align-self: center;\n            }\n\n            > input, > output {\n                display: flex;\n                align-items: center;\n                margin: 0;\n                padding: 0;\n                padding-left: 1rem;\n\n                flex: 1;\n                border: 1px solid black;\n                height: 2rem;\n            }\n        }\n    }\n"])));Row.__docgenInfo={description:"",methods:[],displayName:"Row"};var row_Row=Row;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/calculator/row/Row.jsx"]={name:"Row",docgenInfo:Row.__docgenInfo,path:"src/calculator/row/Row.jsx"});var Calculator_templateObject,calculator_row=row_Row,CalculatorContext=(0,react.createContext)();function Calculator(_ref){var _ref$initialRows=_ref.initialRows,calculator=hooks_useCalculatorState(void 0===_ref$initialRows?[]:_ref$initialRows),calculatorRows=calculator.rows.map((function(row){return(0,react.createElement)(calculator_row,(0,objectSpread2.Z)((0,objectSpread2.Z)({},row),{},{key:row.name}))}));return(0,jsx_runtime.jsx)(CalculatorContext.Provider,{value:calculator,children:(0,jsx_runtime.jsx)(Calculator_Container,{children:calculatorRows})})}var Calculator_Container=styled_components_browser_esm.ZP.div(Calculator_templateObject||(Calculator_templateObject=(0,taggedTemplateLiteral.Z)(["\n    display: flex;\n    flex-direction: column;\n\n    margin: 0 auto;\n    padding: 2rem 1rem;\n\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    border-radius: 0.5rem;\n    box-sizing: border-box; \n\n    max-width: 80%;\n"])));Calculator.__docgenInfo={description:"",methods:[],displayName:"Calculator",props:{initialRows:{defaultValue:{value:"[]",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/calculator/Calculator.jsx"]={name:"Calculator",docgenInfo:Calculator.__docgenInfo,path:"src/calculator/Calculator.jsx"});var calculator=Calculator,Calculator_stories={title:"Calculator",component:calculator};function Template(args){return(0,jsx_runtime.jsx)(calculator,(0,objectSpread2.Z)({},args))}var Simple=Template.bind({});Simple.args={initialRows:[{name:"a",label:"Initial value",value:5},{name:"b",label:function label(value){return"Add ".concat(value)},operator:"+",value:1},{name:"c",label:function label(value){return"Multiply by ".concat(value)},operator:"*",value:4},{name:"d",label:function label(value){return"Divide by ".concat(value)},operator:"/",value:2},{name:"e",label:function label(value){return"Subtract ".concat(value)},operator:"-",value:2},{name:"result",label:"Result",operator:"="}]};var MultiResults=Template.bind({});MultiResults.args={initialRows:[{name:"a",label:"Initial value",value:5},{name:"c",label:"Multiply",operator:"*",value:2},{name:"result1",label:"Result 1",operator:"="},{name:"d",label:"Divide",operator:"/",value:2},{name:"e",label:"Subtract",operator:"-",value:2},{name:"result2",label:"Result 2",operator:"="}]},Simple.parameters=(0,objectSpread2.Z)({storySource:{source:"Template.bind({})"}},Simple.parameters),MultiResults.parameters=(0,objectSpread2.Z)({storySource:{source:"Template.bind({})"}},MultiResults.parameters)},"./.storybook/preview.js-generated-config-entry.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{parameters:function(){return parameters}});var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.kg.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return(0,ClientApi.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,ClientApi.HZ)(loader,!1)}));case"parameters":return(0,ClientApi.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,ClientApi.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,ClientApi._C)(enhancer)}));case"render":return(0,ClientApi.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,ClientApi.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$":function(module,__unused_webpack_exports,__webpack_require__){var map={"./stories/Calculator.stories.jsx":"./src/stories/Calculator.stories.jsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$"},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$":function(module){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$",module.exports=webpackEmptyContext},"./storybook-init-framework-entry.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},"?4f7e":function(){}},function(__webpack_require__){var __webpack_exec__=function(moduleId){return __webpack_require__(__webpack_require__.s=moduleId)};__webpack_require__.O(0,[702],(function(){return __webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/common/config.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/react/config.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-links/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/dist/esm/preset/addArgs.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addParameter.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-interactions/dist/esm/preset/argsEnhancers.js-generated-config-entry.js"),__webpack_exec__("./.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.js")}));__webpack_require__.O()}]);